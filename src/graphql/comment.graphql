fragment commentFields on Comment {
  _id
  content
  createdAt
  user {
    ...userFields
  }
  comments {
    _id
    content
    createdAt
    user {
      ...userFields
    }
    replyTo {
      user {
        ...userFields
      }
      content
    }
  }
}

query FindComments($object: ID!) {
  findComments(object: $object) {
    ...commentFields
  }
}

query FindComment($_id: ID!) {
  findComment(_id: $_id) {
    ...commentFields
  }
}

mutation CreateComment(
  $object: ID!
  $objectModel: CommentObjectUnionModel!
  $content: String!
) {
  createComment(
    input: { object: $object, objectModel: $objectModel, content: $content }
  ) {
    ...commentFields
  }
}

mutation ReplyComment($to: ID!, $content: String!) {
  replyComment(input: { to: $to, content: $content }) {
    ...commentFields
  }
}
